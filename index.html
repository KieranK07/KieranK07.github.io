<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Favicon: Inline SVG for the 'K' logo --><link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext x='50%25' y='90%25' font-size='90' fill='%232dd4bf' text-anchor='middle' font-family='Times New Roman, serif'%3EK%3C/text%3E%3C/svg%3E">
    
    <title>Kieran Kelly | Software Developer & Hardware Hacker</title>
    
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide Icons --><script src="https://unpkg.com/lucide@latest"></script>
    <!-- Load Three.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Configure Tailwind to use Inter font and define custom colors --><script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['SF Mono', 'Roboto Mono', 'monospace'], // For hacker theme
                    },
                    colors: {
                        'primary-dark': '#0f172a', // slate-900
                        'accent-neon': '#2dd4bf', // teal-400
                        'accent-blue': '#38bdf8', // sky-400
                    },
                }
            }
        }
    </script>
    <style>
        /* BASE & UTILITY */
        html { scroll-behavior: smooth; }
        body {
            background-color: #0f172a; 
            color: #f8fafc; 
            font-family: 'Inter', sans-serif;
            overflow-x: hidden; 
        }

        /* SCROLL REVEAL */
        .scroll-reveal {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .scroll-reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* NEON GLOW */
        .neon-glow {
            text-shadow: 0 0 5px rgba(45, 212, 191, 0.5), 0 0 10px rgba(45, 212, 191, 0.3);
        }
        
        /* CARD STYLING */
        .project-card, .skill-card, .contact-card {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), 0 10px 20px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-radius: 2rem; 
            transform-style: preserve-3d;
        }
        .project-card:hover, .skill-card:hover, .contact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(45, 212, 191, 0.15), 0 5px 10px rgba(45, 212, 191, 0.05);
        }

        /* --- THREE.JS CYBER GRID --- */
        #three-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.15; 
        }
        canvas { display: block; } 

        /* --- EDUCATION CUBE --- */
        #education { perspective: 800px; } 
        .cube-container {
            width: 300px; height: 300px;
            position: relative;
            transform-style: preserve-3d;
            transform: translateZ(-150px) rotateX(0deg) rotateY(0deg); 
        }
        .face {
            position: absolute;
            width: 300px; height: 300px;
            border: 2px solid #38bdf8; 
            background-color: transparent;
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.5); 
            opacity: 0.9;
            backface-visibility: hidden;
        }
        .front  { transform: rotateY(0deg) translateZ(150px); }
        .back   { transform: rotateX(180deg) translateZ(150px); }
        .right  { transform: rotateY(90deg) translateZ(150px); }
        .left   { transform: rotateY(-90deg) translateZ(150px); }
        .top    { transform: rotateX(90deg) translateZ(150px); }
        .bottom { transform: rotateX(-90deg) translateZ(150px); }

        /* --- SKILLS CIRCUITRY BACKGROUND --- */
        .circuit-background {
            background-image: 
                radial-gradient(circle, rgba(45, 212, 191, 0.7) 1px, transparent 1px), 
                radial-gradient(circle, rgba(45, 212, 191, 0.7) 1px, transparent 1px); 
            background-size: 50px 50px; 
            background-position: 0 0, 25px 25px; 
            animation: circuit-pulse 8s infinite alternate; 
        }
        @keyframes circuit-pulse {
            0% { background-color: rgba(45, 212, 191, 0.0); }
            100% { background-color: rgba(45, 212, 191, 0.08); } 
        }

        /* --- PROJECTS GLITCH BACKGROUND --- */
        .glitch-background {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: repeating-linear-gradient(45deg, #38bdf810, #38bdf810 1px, transparent 1px, transparent 50px), 
                              repeating-linear-gradient(-45deg, #38bdf810, #38bdf810 1px, transparent 1px, transparent 50px);
            background-size: 100px 100px;
            animation: glitch-shift 0.8s infinite step-end;
            opacity: 0.1; z-index: 0; pointer-events: none;
        }
        @keyframes glitch-shift {
            0%, 100% { transform: translate(0, 0); opacity: 0.1; }
            25% { transform: translate(-0.5px, 0.5px); opacity: 0.15; }
            50% { transform: translate(0.5px, -0.5px); opacity: 0.1; }
            75% { transform: translate(-1px, 0); opacity: 0.15; }
        }

        /* --- ABOUT NEON WAVE GRADIENT --- */
        #about {
            position: relative;
            background: linear-gradient(-45deg, #0f172a, #2dd4bf20, #38bdf820, #0f172a);
            background-size: 400% 400%;
            animation: wave-move 20s ease infinite;
        }
        @keyframes wave-move {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* --- RIPPLE, PHYSICS BUBBLE, CODE RAIN --- */
        #ripple-container { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 99; overflow: hidden; }
        .ripple { position: absolute; width: 5px; height: 5px; background-color: rgba(45, 212, 191, 0.9); border-radius: 50%; transform: translate(-50%, -50%) scale(0); animation: ripple-scale-full 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes ripple-scale-full { to { transform: translate(-50%, -50%) scale(350); opacity: 0; } }

        .bounce-bubble { position: fixed; z-index: 101; white-space: nowrap; padding: 8px 12px; border-radius: 9999px; font-weight: bold; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4); pointer-events: none; transition: opacity 0.5s ease-out; }
        
        #code-rain-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.8); z-index: 102; display: none; cursor: crosshair; }
        .code-block { position: absolute; font-family: 'SF Mono', 'Roboto Mono', monospace; font-size: 14px; color: #2dd4bf; pointer-events: none; transition: opacity 0.5s ease-out; will-change: transform; line-height: 1; width: 14px; height: 14px; text-align: center; }
    </style>
</head>
<body class="font-sans">

    <!-- 0. Full-Screen Ripple Container --><div id="ripple-container"></div>
    <!-- Fixed container for the bouncing "Copied!" text --><div id="floating-notification-container" class="fixed top-0 left-0 w-full h-full pointer-events-none z-[100]"></div>

    <!-- CODE RAIN OVERLAY (Hidden by default) -->
    <div id="code-rain-overlay">
        <div class="fixed top-4 left-4 text-accent-neon font-mono text-sm z-[103]">
            CODE RAIN ACTIVE | Type to drop blocks. Press ESC to stop.
        </div>
    </div>

    <!-- Header Navigation Bar --><header class="fixed top-0 z-20 w-full bg-primary-dark/80 backdrop-blur-xl shadow-lg">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <a href="#hero" id="header-logo" class="header-logo text-xl font-bold text-accent-neon neon-glow font-mono tracking-wider transition duration-300">K.K.</a>
            <div class="space-x-4 flex items-center">
                <!-- Added "nav-link" class for JS targeting -->
                <a href="#education" class="nav-link text-gray-300 hover:text-accent-blue transition duration-300 hidden sm:inline">Education</a>
                <a href="#skills" class="nav-link text-gray-300 hover:text-accent-blue transition duration-300">Skills</a>
                <a href="#projects" class="nav-link text-gray-300 hover:text-accent-blue transition duration-300">Projects</a>
                <a href="#about" class="nav-link text-gray-300 hover:text-accent-blue transition duration-300">About</a>
                <a href="#contact" class="nav-link text-gray-300 hover:text-accent-neon transition duration-300">Contact</a>
            </div>
        </nav>
    </header>

    <!-- 1. Hero Section -->
    <section id="hero" class="relative min-h-screen flex items-center justify-center overflow-hidden pt-16">
        <!-- THREE.JS CONTAINER --><div id="three-container"></div>
        <div class="relative z-10 max-w-4xl text-center p-6 sm:p-10 bg-primary-dark/50 rounded-[2rem] backdrop-blur-sm"> 
            <h1 class="text-6xl sm:text-8xl font-extrabold tracking-tight leading-none mb-4 scroll-reveal">
                Kieran Kelly
            </h1>
            <p class="text-2xl sm:text-4xl font-light text-accent-neon neon-glow scroll-reveal" style="transition-delay: 0.1s;">
                Software Developer and Hardware Hacker
            </p>
            <p class="mt-8 text-lg text-gray-200 scroll-reveal" style="transition-delay: 0.2s;">
                Digital to Physical
            </p>
            <a href="#skills" class="mt-12 inline-block px-8 py-3 bg-accent-neon text-gray-900 font-bold rounded-full hover:bg-teal-300 transition duration-300 shadow-xl scroll-reveal" style="transition-delay: 0.3s;">
                Learn more
            </a>
        </div>
    </section>
    
    <!-- 2. Education Section --><section id="education" class="py-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative overflow-hidden">
        <!-- 3D CSS Cube Background -->
        <div id="scroll-rotate-cube" class="absolute inset-0 flex items-center justify-center opacity-[0.05] z-0">
            <div class="cube-container">
                <div class="face front"></div>
                <div class="face back"></div>
                <div class="face left"></div>
                <div class="face right"></div>
                <div class="face top"></div>
                <div class="face bottom"></div>
            </div>
        </div>

        <h2 class="text-5xl font-bold text-center mb-16 scroll-reveal relative z-10"><span class="text-accent-blue">Education</span></h2>
        
        <div class="max-w-2xl mx-auto p-8 border border-gray-700 bg-gray-800 rounded-[2rem] shadow-2xl scroll-reveal skill-card relative z-10" style="transition-delay: 0.1s;">
            <h3 class="text-3xl font-bold text-white mb-2">Franciscan University of Steubenville</h3>
            <p class="text-xl text-accent-neon mb-4">Bachelor of Science in Computer Science</p>
            <div class="flex justify-between items-center border-t border-gray-700 pt-4">
                <p class="text-lg text-gray-400">Freshman</p>
                <p class="text-lg font-mono text-gray-300">Expected Graduation: 2029</p>
            </div>
        </div>
    </section>

    <!-- 3. Skills Section --><section id="skills" class="py-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 border-t border-gray-800 relative overflow-hidden">
        <!-- Circuitry Background Layer (Dramatic Pulse) -->
        <div class="absolute inset-0 z-0 opacity-[0.15] circuit-background"></div>
        
        <h2 class="text-5xl font-bold text-center mb-16 scroll-reveal relative z-10"><span class="text-accent-blue">Expertise</span></h2>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 relative z-10">
            <!-- Skill Card 1: Python --><div class="p-8 border border-gray-700 bg-gray-800 rounded-[2rem] scroll-reveal skill-card" data-percent="90" data-color="accent-neon" style="transition-delay: 0.1s;">
                <h3 class="text-3xl font-bold text-accent-neon mb-4">Python</h3>
                <p class="text-gray-300 mb-4">Advanced scripting, <strong>AI development</strong>, <strong>API integration</strong>, and creating <strong>games/UI</strong> for frontend applications.</p>
                <div class="h-2 bg-gray-700 rounded-full mt-6">
                    <div class="skill-bar-fill h-full rounded-full bg-accent-neon" style="width: 0%; transition: width 1.5s ease-out;"></div>
                </div>
                <p class="text-sm mt-2 text-gray-400">Proficiency: High (90%)</p>
            </div>
            
            <!-- Skill Card 2: C++ & Embedded Systems --><div class="p-8 border border-gray-700 bg-gray-800 rounded-[2rem] scroll-reveal skill-card" data-percent="75" data-color="accent-blue" style="transition-delay: 0.2s;">
                <h3 class="text-3xl font-bold text-accent-blue mb-4">C++</h3>
                <p class="text-gray-300 mb-4">Coding for <strong>robotics</strong>, <strong>game development</strong>, <strong>backend servers</strong>, and performance-critical system programming.</p>
                <div class="h-2 bg-gray-700 rounded-full mt-6">
                    <div class="skill-bar-fill h-full rounded-full bg-accent-blue" style="width: 0%; transition: width 1.5s ease-out;"></div>
                </div>
                <p class="text-sm mt-2 text-gray-400">Proficiency: Advanced (75%)</p>
            </div>

            <!-- Skill Card 3: Ethical Pentesting --><div class="p-8 border border-gray-700 bg-gray-800 rounded-[2rem] scroll-reveal skill-card" data-percent="80" data-color="teal-300" style="transition-delay: 0.3s;">
                <h3 class="text-3xl font-bold text-teal-300 mb-4">Ethical Pentesting</h3>
                <p class="text-gray-300 mb-4">Extensive <strong>Linux experience</strong>, <strong>vulnerability assessment</strong>, <strong>Hack The Box practice</strong>, and <strong>network reconnaissance</strong> using <strong>Kali Linux</strong>.</p>
                <div class="h-2 bg-gray-700 rounded-full mt-6">
                    <div class="skill-bar-fill h-full rounded-full bg-teal-300" style="width: 0%; transition: width 1.5s ease-out;"></div>
                </div>
                <p class="text-sm mt-2 text-gray-400">Proficiency: Advanced (80%)</p>
            </div>
        </div>
    </section>

    <!-- 4. Projects Section --><section id="projects" class="py-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 border-t border-gray-800 relative overflow-hidden">
        <!-- Glitch/Matrix Background Layer -->
        <div class="glitch-background"></div>
        <h2 class="text-5xl font-bold text-center mb-16 scroll-reveal relative z-10">Projects</h2>

        <div class="grid md:grid-cols-2 gap-10 relative z-10">
            <!-- Project 1: AI RC Car (Hardware + Software) --><div class="project-card project-scroll-target p-6 bg-gray-800 rounded-[2rem] shadow-xl border border-gray-700 transition duration-500 scroll-reveal">
                <h3 class="text-3xl font-bold text-accent-blue mb-3">AI RC Car</h3>
                <p class="text-gray-400 font-mono text-sm mb-4">Tech: C++, Python, NVIDIA Jetson Nano, Intel Realsense</p>
                <p class="text-gray-300">
                    Engineered an RC car using a <strong>NVIDIA Jetson Nano</strong> and an <strong>Intel Realsense camera</strong>. The system uses on-board processing to view its surroundings, avoid obstacles, and navigate. Project includes custom <strong>3D printed and CNC-milled parts</strong>, servo control, and complex battery management systems.
                </p>
                <a href="https://github.com/kierank07/ai-rc-car-repo" target="_blank" class="mt-4 inline-block text-accent-blue hover:text-teal-400 font-bold">View Source (GitHub &rarr;)</a>
            </div>

            <!-- Project 2: PCB Business Card (Hardware + Software) --><div class="project-card project-scroll-target p-6 bg-gray-800 rounded-[2rem] shadow-xl border border-gray-700 transition duration-500 scroll-reveal" style="transition-delay: 0.2s;">
                <h3 class="text-3xl font-bold text-accent-neon mb-3">PCB Business Card</h3>
                <p class="text-gray-400 font-mono text-sm mb-4">Tech: NFC, Custom PCB Design, Surface Mount LEDs, Firmware</p>
                <p class="text-gray-300">
                    Engineered a custom <strong>Printed Circuit Board (PCB)</strong> business card. The card integrates an <strong>NFC tag</strong> linked to this website and uses inductive power from the tapping phone to light up <strong>onboard LEDs</strong>, demonstrating expertise in low-power electronics and <strong>physical-layer interaction</strong>.
                </p>
                <a href="https://github.com/kierank07/pcb-card-repo" target="_blank" class="mt-4 inline-block text-accent-neon hover:text-accent-blue font-bold">View Design (GitHub &rarr;)</a>
            </div>
        </div>
    </section>

    <!-- 5. About Section --><section id="about" class="py-24 border-t border-b border-gray-700">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-5xl font-bold mb-8 scroll-reveal">My <span class="text-white">Philosophy</span></h2>
            <p class="text-xl text-gray-300 leading-relaxed scroll-reveal" style="transition-delay: 0.1s;">
                I am passionate about all types of technology, <strong>physical and abstract</strong>, grounded in a desire for **truth and ethical growth**. My goal is to use technical knowledge to build solutions and secure systems.
            </p>
            <p class="text-lg italic text-gray-400 mt-6 scroll-reveal" style="transition-delay: 0.2s;">
                "Solve the problem, then optimize the solution."
            </p>
            <div class="mt-10 scroll-reveal" style="transition-delay: 0.3s;">
                <!-- Link to copy email/call bounce function --><a href="#" id="about-email-link" onclick="copyAndBounce(event, 'kieranjokelly@gmail.com')" class="text-lg font-mono text-gray-400 hover:text-accent-neon transition duration-300">kieranjokelly@gmail.com</a>
            </div>
        </div>
    </section>

    <!-- 6. Contact Section --><section id="contact" class="py-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-5xl font-bold text-center mb-12 scroll-reveal"><span class="text-accent-neon">Connect</span></h2>
        
        <!-- Business Card / Contact Info --><div class="max-w-md mx-auto p-6 bg-gray-800 rounded-[2rem] border border-gray-700 shadow-2xl scroll-reveal contact-card" style="transition-delay: 0.2s;">
               <div class="flex flex-col sm:flex-row items-center justify-between">
                <div class="text-center sm:text-left mb-6 sm:mb-0 w-full sm:w-auto">
                    <p class="text-2xl font-bold text-white">Kieran Kelly</p>
                    <p class="text-accent-neon font-mono mt-1 mb-6">Developer & Hacker</p>
                    
                    <div class="flex flex-col space-y-2 mt-4">
                        <!-- Link to copy email/call bounce function --><a href="#" id="contact-email-link" onclick="copyAndBounce(event, 'kieranjokelly@gmail.com')" class="text-lg text-gray-300 hover:text-accent-blue transition duration-300 p-2 rounded-lg text-center bg-gray-700/50 hover:bg-gray-700">kieranjokelly@gmail.com</a>
                        <!-- Link to copy phone number/call bounce function --><a href="#" onclick="copyAndBounce(event, '+1 240 268 9430')" class="text-lg text-gray-300 hover:text-accent-blue transition duration-300 p-2 rounded-lg text-center bg-gray-700/50 hover:bg-gray-700">+1 240 268 9430</a>
                    </div>
                </div>
                  <!-- Visual representation of the business card PCB with Times New Roman 'K' logo --><div class="w-24 h-40 bg-primary-dark rounded-lg p-2 flex items-center justify-center border-2 border-accent-neon shadow-xl">
                    <p class="text-5xl font-serif text-accent-neon" style="font-family: 'Times New Roman', serif;">K</p>
                </div>
            </div>
        </div>

        <div class="flex justify-center space-x-8 mt-12 scroll-reveal" style="transition-delay: 0.1s;">
            <!-- GitHub Icon/Link (using Lucide icon) --><a href="https://github.com/kierank07" target="_blank" class="text-gray-400 hover:text-accent-neon transition duration-300">
                <i data-lucide="github" class-name="w-10 h-10"></i>
            </a>
            <!-- Instagram Icon/Link (using Lucide icon) --><a href="https://instagram.com/stupidlife07" target="_blank" class="text-gray-400 hover:text-accent-blue transition duration-300">
                <i data-lucide="instagram" class-name="w-10 h-10"></i>
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-10 text-center text-gray-500 text-sm border-t border-gray-800 flex flex-col items-center space-y-4">
        
        <!-- New Link to Game -->
        <a href="multiplayer_fps_game.html" class="inline-block px-6 py-2 bg-accent-blue text-primary-dark font-bold rounded-full text-lg hover:bg-sky-300 transition duration-300 shadow-lg border border-sky-600">
            Play &rarr;
        </a>

        <p>&copy; 2025 Kieran Kelly. Built with Konami.</p>
    </footer>

    <!-- JavaScript for Scroll-Reveal Animation, Interactivity, and THREE.JS -->
    <script>
        // --- PHYSICS ENGINE: Copied Text Bubbles ---
        const GRAVITY = 0.8; 
        const DAMPING = 0.7; 
        const MIN_VELOCITY = 2; 
        const LIFETIME = 2000; 
        const MAX_HORIZONTAL_LAUNCH = 5; 
        let activeBubbles = [];
        let animationFrameIdPhysics = null;

        class PhysicsBubble {
            constructor(element, initialTop, initialLeft) {
                this.element = element;
                this.y = initialTop;
                this.x = initialLeft;
                this.vy = 0; 
                this.vx = (Math.random() * (MAX_HORIZONTAL_LAUNCH * 2)) - MAX_HORIZONTAL_LAUNCH; 
                this.startTime = Date.now();
                this.removed = false;
                
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
                this.element.style.transform = `translate(-50%, -50%)`; 
                this.element.style.opacity = '1';
            }

            update() {
                if (this.removed) return false;

                const bubbleRect = this.element.getBoundingClientRect();
                const bottomEdge = window.innerHeight;
                const leftEdge = 0;
                const rightEdge = window.innerWidth;
                
                this.vy += GRAVITY;
                this.vx *= 0.99; 
                this.y += this.vy;
                this.x += this.vx;

                const currentBottom = this.y + (bubbleRect.height / 2); 
                if (currentBottom >= bottomEdge) {
                    this.y = bottomEdge - (bubbleRect.height / 2); 
                    if (Math.abs(this.vy) > MIN_VELOCITY) { 
                        this.vy = -this.vy * DAMPING;
                    } else {
                        this.vy = 0; 
                        this.vx = 0; 
                    }
                }
                
                const currentLeft = this.x - (bubbleRect.width / 2);
                const currentRight = this.x + (bubbleRect.width / 2);
                if (currentLeft <= leftEdge || currentRight >= rightEdge) {
                    this.vx = -this.vx * DAMPING;
                    if (currentLeft <= leftEdge) {
                        this.x = leftEdge + (bubbleRect.width / 2);
                    } else if (currentRight >= rightEdge) {
                        this.x = rightEdge - (bubbleRect.width / 2);
                    }
                }

                this.element.style.top = `${this.y}px`;
                this.element.style.left = `${this.x}px`;

                const elapsed = Date.now() - this.startTime;
                if (elapsed > LIFETIME) {
                    const fadeTime = 500;
                    const fadeProgress = (elapsed - LIFETIME) / fadeTime;
                    this.element.style.opacity = Math.max(0, 1 - fadeProgress).toString();
                    if (fadeProgress > 1) {
                        this.element.remove();
                        this.removed = true;
                        return false; 
                    }
                }
                return true;
            }
        }
        function animatePhysics() {
            activeBubbles = activeBubbles.filter(bubble => bubble.update());
            animationFrameIdPhysics = requestAnimationFrame(animatePhysics);
        }
        
        // --- CODE RAIN EASTER EGG ---
        const CODE_GRAVITY = 0.5;
        const CODE_DAMPING = 0.5; 
        const CODE_MIN_VELOCITY = 0.5; 
        const CODE_AIR_DRAG = 0.99; 
        const CODE_BLOCK_SIZE = 14;
        const CODE_HORIZONTAL_LAUNCH = 5; 
        const DROP_INTERVAL = 50; 

        let isCodeRainActive = false;
        let codeBlocks = [];
        let codeRainOverlay = null;
        let animationFrameIdRain = null;
        let lastDropTime = 0;

        class CodeBlock {
            constructor(char, x) {
                this.element = document.createElement('div');
                this.element.textContent = char;
                this.element.className = 'code-block';
                this.x = x; this.y = 0;
                this.vy = 0; 
                this.vx = (Math.random() * (CODE_HORIZONTAL_LAUNCH * 2)) - MAX_HORIZONTAL_LAUNCH;
                this.hasSettled = false;
                this.element.style.transform = `translate(${this.x}px, ${this.y}px)`;
                codeRainOverlay.appendChild(this.element);
            }

            update() {
                if (this.hasSettled) return true;
                this.vy += CODE_GRAVITY;
                this.vx *= CODE_AIR_DRAG;
                this.y += this.vy;
                this.x += this.vx;

                // Wall Collision
                const wallX = window.innerWidth - CODE_BLOCK_SIZE;
                if (this.x < 0) { this.x = 0; this.vx = -this.vx * CODE_DAMPING; } 
                else if (this.x > wallX) { this.x = wallX; this.vx = -this.vx * CODE_DAMPING; }
                
                // Find Highest Landing Spot (Stacking/Floor)
                let settlementY = window.innerHeight; 
                for (const otherBlock of codeBlocks) {
                    if (otherBlock === this || !otherBlock.hasSettled) continue;
                    const horizontallyOverlaps = (this.x < otherBlock.x + CODE_BLOCK_SIZE && this.x + CODE_BLOCK_SIZE > otherBlock.x);
                    
                    if (horizontallyOverlaps) {
                        const landingY = otherBlock.y; 
                        if (landingY < settlementY && this.y + CODE_BLOCK_SIZE >= otherBlock.y && this.vy > 0) {
                            settlementY = landingY;
                        }
                    }
                }

                // Apply Vertical Collision
                if (this.y + CODE_BLOCK_SIZE >= settlementY) {
                    this.y = settlementY - CODE_BLOCK_SIZE; 
                    if (Math.abs(this.vy) > CODE_MIN_VELOCITY) {
                        this.vy = -this.vy * CODE_DAMPING; 
                        this.vx *= 0.8; 
                    } else {
                        this.vy = 0;
                        this.vx = 0;
                        this.hasSettled = true;
                    }
                }
                
                this.element.style.transform = `translate(${this.x}px, ${this.y}px)`;
                return true;
            }
            destroy() {
                this.element.style.opacity = '0';
                setTimeout(() => this.element.remove(), 500);
            }
        }
        
        function handleKeyDrop(e) {
            if (!isCodeRainActive || e.key === 'Escape' || e.key.length !== 1 || e.key.match(/\s/)) {
                if (e.key === 'Escape') stopCodeRain();
                return;
            }
            const now = Date.now();
            if (now - lastDropTime < DROP_INTERVAL) return;
            
            lastDropTime = now;
            const initialX = Math.random() * (window.innerWidth - CODE_BLOCK_SIZE); 
            codeBlocks.push(new CodeBlock(e.key.toUpperCase(), initialX));
        }

        function codeRainLoop() {
            if (!isCodeRainActive) return;
            codeBlocks = codeBlocks.filter(block => block.update());
            animationFrameIdRain = requestAnimationFrame(codeRainLoop);
        }

        function startCodeRain(e) {
            if (e && e.preventDefault) e.preventDefault();
            if (isCodeRainActive) return;
            isCodeRainActive = true;
            codeRainOverlay = document.getElementById('code-rain-overlay');
            codeRainOverlay.style.display = 'block';
            document.addEventListener('keydown', handleKeyDrop);
            animationFrameIdRain = requestAnimationFrame(codeRainLoop);
        }
        
        function stopCodeRain() {
            isCodeRainActive = false;
            document.removeEventListener('keydown', handleKeyDrop);
            if (animationFrameIdRain) cancelAnimationFrame(animationRainId);
            codeBlocks.forEach(block => block.destroy());
            codeBlocks = [];
            setTimeout(() => { codeRainOverlay.style.display = 'none'; }, 500);
        }
        
        // --- KONAMI CODE DETECTION ---
        const KONAMI_CODE = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA', 'Enter'];
        let konamiIndex = 0;
        function handleKonamiCode(e) {
            if (e.code === KONAMI_CODE[konamiIndex]) {
                konamiIndex++;
                if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Enter'].includes(e.code)) e.preventDefault();
                if (konamiIndex === KONAMI_CODE.length) {
                    konamiIndex = 0; 
                    if (!isCodeRainActive) startCodeRain(e);
                }
            } else {
                konamiIndex = 0;
            }
        }
        
        // --- THREE.JS CYBER GRID LOGIC ---
        let scene, camera, renderer, lines;
        let mouseX = 0;
        let mouseY = 0;
        const NEON_COLOR = 0x2dd4bf; 
        const targetCameraPosition = new THREE.Vector3(); 

        function init3D() {
            const container = document.getElementById('three-container');
            if (!container) return; 

            const rect = container.getBoundingClientRect();
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x0f172a, 10, 800); 

            camera = new THREE.PerspectiveCamera(75, rect.width / rect.height, 0.1, 1000);
            camera.position.set(0, 100, 300); 
            camera.rotation.x = -0.3; 

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(rect.width, rect.height);
            renderer.setClearColor(0x000000, 0); 
            container.appendChild(renderer.domElement);

            // Create Grid 
            const gridSize = 1000;
            const divisions = 50;
            const step = gridSize / divisions;
            const lineGeometry = new THREE.BufferGeometry();
            const vertices = [];
            
            for (let i = 0; i <= divisions; i++) {
                const x = -gridSize / 2 + i * step;
                vertices.push(x, 0, -gridSize / 2, x, 0, gridSize / 2);  
            }
            for (let i = 0; i <= divisions; i++) {
                const z = -gridSize / 2 + i * step;
                vertices.push(-gridSize / 2, 0, z, gridSize / 2, 0, z);  
            }

            lineGeometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
            const lineMaterial = new THREE.LineBasicMaterial({ color: NEON_COLOR, linewidth: 1, transparent: true, opacity: 0.5 });
            lines = new THREE.LineSegments(lineGeometry, lineMaterial);
            lines.position.y = 0;
            scene.add(lines);

            // Add subtle, floating points 
            const pointsGeometry = new THREE.BufferGeometry();
            const verticesPoints = [];
            for (let i = 0; i < 200; i++) {
                const x = Math.random() * gridSize - gridSize / 2;
                const y = Math.random() * 200 + 50;
                const z = Math.random() * gridSize - gridSize / 2;
                verticesPoints.push(x, y, z);
            }
            pointsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(verticesPoints, 3));
            const pointsMaterial = new THREE.PointsMaterial({ color: NEON_COLOR, size: 2, sizeAttenuation: true, transparent: true, opacity: 0.8 });
            scene.add(new THREE.Points(pointsGeometry, pointsMaterial));

            window.addEventListener('resize', onWindowResize, false);
            animate3D();
        }

        function onWindowResize() {
            const container = document.getElementById('three-container');
            if (container && camera) {
                const rect = container.getBoundingClientRect();
                camera.aspect = rect.width / rect.height;
                camera.updateProjectionMatrix();
                renderer.setSize(rect.width, rect.height);
            }
        }

        function animate3D() {
            requestAnimationFrame(animate3D);
            if (lines) {
                lines.rotation.y += 0.0005;
                lines.position.z = (lines.position.z + 0.5) % 100; 
                if (lines.position.z > 0) lines.position.z -= 100; 
            }

            // Camera Mouse Look Effect
            if (camera) {
                const windowHalfX = window.innerWidth / 2;
                const windowHalfY = window.innerHeight / 2;
                targetCameraPosition.x = (mouseX - windowHalfX) * 0.03;
                targetCameraPosition.y = 100 + (mouseY - windowHalfY) * 0.03; 
                camera.position.x += (targetCameraPosition.x - camera.position.x) * 0.05;
                camera.position.y += (targetCameraPosition.y - camera.position.y) * 0.05;
            }

            if (renderer && scene && camera) {
                renderer.render(scene, camera);
            }
        }

        // --- Education Cube Scroll Rotation Logic ---
        function applyScrollRotation(cubeElement) {
            const scrollY = window.scrollY;
            const rotationSpeedX = 0.15; 
            const rotationSpeedY = 0.25; 

            const rotateX = (scrollY * rotationSpeedX);
            const rotateY = (scrollY * rotationSpeedY);

            cubeElement.style.transform = `
                translateZ(-150px) 
                rotateX(${rotateX}deg) 
                rotateY(${rotateY}deg)
            `;
        }
        
        // --- Navigation Highlighting Logic (Fixed Scroll-Based) ---
        function setupActiveNavTracking() {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');
            const activeClasses = ['text-accent-neon', 'neon-glow', 'font-bold'];
            const inactiveClasses = ['text-gray-300', 'hover:text-accent-blue'];

            function updateActiveLink() {
                let currentId = 'hero';
                const scrollY = window.scrollY;
                const headerHeight = document.querySelector('header').offsetHeight;
                const offset = headerHeight + 100; // Buffer for when section titles are visible

                // Find which section is currently active by iterating backwards (bottom-up)
                for (let i = sections.length - 1; i >= 0; i--) {
                    const section = sections[i];
                    const sectionTop = section.offsetTop - offset;
                    
                    if (scrollY >= sectionTop) {
                        currentId = section.id;
                        break;
                    }
                }

                // Apply styles based on the determined active section
                navLinks.forEach(link => {
                    const sectionId = link.getAttribute('href').substring(1);
                    const isActive = sectionId === currentId;

                    if (isActive) {
                        link.classList.add(...activeClasses);
                        link.classList.remove('text-gray-300', 'hover:text-accent-blue');
                    } else {
                        link.classList.remove(...activeClasses);
                        link.classList.add('text-gray-300', 'hover:text-accent-blue');
                    }
                });
            }

            // Attach to scroll event and run once on load
            window.addEventListener('scroll', updateActiveLink);
            updateActiveLink(); 
        }


        // --- CORE CLIPBOARD & BOUNCE FUNCTION ---
        function copyToClipboardCore(text) {
            const tempInput = document.createElement('textarea');
            tempInput.value = text;
            document.body.appendChild(tempInput);
            tempInput.select();
            try {
                document.execCommand('copy'); 
                document.body.removeChild(tempInput);
                return true;
            } catch (err) {
                document.body.removeChild(tempInput);
                console.error('Copy failed:', err);
                return false;
            }
        }

        window.copyAndBounce = (event, text) => {
            event.preventDefault(); 
            
            if (copyToClipboardCore(text)) {
                const clickedElement = event.currentTarget;
                const container = document.getElementById('floating-notification-container');
                if (!container) return;
                
                const rect = clickedElement.getBoundingClientRect();
                const bubble = document.createElement('div');
                bubble.textContent = "Copied!";
                bubble.className = "bounce-bubble bg-accent-neon text-primary-dark";
                
                const initialTop = rect.top + rect.height / 2;
                const initialLeft = rect.left + rect.width / 2;

                container.appendChild(bubble);
                activeBubbles.push(new PhysicsBubble(bubble, initialTop, initialLeft));
            }
        };


        // --- CORE APPLICATION LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            
            document.addEventListener('keydown', handleKonamiCode);
            document.addEventListener('mousemove', (event) => {
                mouseX = event.clientX;
                mouseY = event.clientY;
            });
            
            const scrollRotateCube = document.querySelector('.cube-container'); 
            if (scrollRotateCube) {
                applyScrollRotation(scrollRotateCube);
            }

            // Main Scroll Listener (used for cube rotation and nav)
            window.addEventListener('scroll', () => {
                if (scrollRotateCube) applyScrollRotation(scrollRotateCube);
            });
            
            if (!animationFrameIdPhysics) animatePhysics();

            if (typeof lucide !== 'undefined') lucide.createIcons();
            if (typeof THREE !== 'undefined') init3D();

            setupActiveNavTracking();

            // Scroll Reveal Setup
            const scrollRevealOptions = { root: null, rootMargin: '0px', threshold: 0.2 };
            const scrollRevealObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, scrollRevealOptions);
            document.querySelectorAll('.scroll-reveal').forEach(el => { scrollRevealObserver.observe(el); });

            // Interactive Skill Bars Setup
            const skillBarOptions = { root: null, rootMargin: '0px', threshold: 0.5 };
            const skillBarObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && entry.target.classList.contains('skill-card')) {
                        const percent = entry.target.getAttribute('data-percent');
                        const fillBar = entry.target.querySelector('.skill-bar-fill');
                        if (fillBar) fillBar.style.width = `${percent}%`;
                        observer.unobserve(entry.target);
                    }
                });
            }, skillBarOptions);
            document.querySelectorAll('.skill-card').forEach(card => { skillBarObserver.observe(card); });

            // Header Logo Ripple Effect Setup
            const headerLogo = document.getElementById('header-logo');
            const rippleContainer = document.getElementById('ripple-container');
            if (headerLogo && rippleContainer) {
                headerLogo.addEventListener('click', (e) => {
                    if (window.scrollY < 10) {
                        e.preventDefault(); 
                        const rect = headerLogo.getBoundingClientRect();
                        const x = rect.left + rect.width / 2;
                        const y = rect.top + rect.height / 2;
                        const ripple = document.createElement('div');
                        ripple.classList.add('ripple');
                        ripple.style.left = `${x}px`;
                        ripple.style.top = `${y}px`;
                        rippleContainer.appendChild(ripple);
                        ripple.addEventListener('animationend', () => {
                            ripple.remove();
                        });
                    }
                });
            }
        });
    </script>

</body>
</html>
